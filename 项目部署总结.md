# 🚀 A股量化交易策略 - GitHub完整部署系统

## 📊 项目概览

这是一个基于AI机器学习的A股量化交易策略项目，现已建立完整的GitHub部署系统，包含自动化部署、CI/CD、社区管理等全方位功能。

### 🎯 核心指标
- **期望收益**: 1.71% (V28.0 AI增强版)
- **胜率**: 46.96%
- **交易次数**: 25,000+
- **最大回撤**: 控制在合理范围内

## 🏗️ 系统架构

### 1. 核心策略文件
```
├── V31_AI_Feature_Learning.py    # AI特征学习引擎
├── V32_AI_Elite_Strategy.py      # AI精英策略
├── V28_Backtester.py             # 回测引擎
├── 终极策略_V28.0_最终版.txt      # 完整策略文档
└── prd                           # 产品需求文档
```

### 2. 自动化部署系统
```
├── deploy_to_github.sh           # 一键部署脚本
├── .github/workflows/deploy.yml  # GitHub Actions工作流
├── .github/ISSUE_TEMPLATE/       # Issue模板
├── .github/pull_request_template.md # PR模板
└── .github/CODE_OF_CONDUCT.md   # 行为准则
```

### 3. 文档系统
```
├── README.md                     # 项目主要说明
├── 特征分析报告.md               # AI特征重要性分析
├── 项目结构说明.md               # 详细项目结构
├── 快速开始指南.md               # 快速上手指南
└── GitHub上传指南.md             # 完整部署指南
```

## 🔧 技术栈

### 核心依赖
- **Python 3.9+**: 主要开发语言
- **pandas**: 数据处理
- **numpy**: 数值计算
- **scikit-learn**: 机器学习
- **lightgbm**: 梯度提升模型
- **joblib**: 模型序列化

### 部署工具
- **Git**: 版本控制
- **Git LFS**: 大文件管理
- **GitHub Actions**: 自动化CI/CD
- **Dependabot**: 依赖更新

## 🚀 部署功能

### 1. 一键部署脚本
```bash
# 运行部署脚本
./deploy_to_github.sh
```

**功能特点**:
- ✅ 自动检查Git和Git LFS安装
- ✅ 智能错误处理和彩色输出
- ✅ 自动配置Git LFS跟踪大文件
- ✅ 自动设置Git用户信息
- ✅ 智能文件添加和提交
- ✅ 自动推送Git LFS文件

### 2. GitHub Actions自动化
```yaml
# 自动测试和部署
- 代码质量检查
- 依赖包安装测试
- 自动部署到GitHub Pages
- 性能监控和报告
```

### 3. 社区管理
- **Issue模板**: Bug报告和功能请求
- **PR模板**: 代码贡献规范
- **行为准则**: 社区规范
- **安全策略**: 漏洞报告流程
- **支持文档**: 用户帮助指南

## 📈 AI特征重要性排名

基于LightGBM模型训练的**Top 10最重要特征**：

| 排名 | 特征名称 | 重要性 | 描述 |
|------|----------|--------|------|
| 1 | `ma5_trend` | 15.44% | 5日均线趋势，最重要！ |
| 2 | `close_vs_low_4d` | 10.58% | 收盘价相对4天最低价位置 |
| 3 | `closing_strength` | 6.73% | 收盘强度 |
| 4 | `amount_volume_ratio` | 6.24% | 成交额成交量比 |
| 5 | `max_intraday_range` | 6.05% | 最大日内波动 |
| 6 | `avg_volume_4d` | 5.10% | 4天平均成交量 |
| 7 | `volume_consistency` | 5.05% | 成交量一致性 |
| 8 | `volume_acceleration` | 4.39% | 成交量加速度 |
| 9 | `v_bottom_depth` | 4.24% | V型底深度 |
| 10 | `price_momentum_3d` | 3.77% | 3天价格动量 |

## 🎯 策略核心逻辑

### 1. 信号识别 (V6基石)
- **连续4天收盘价不减**: a ≤ b ≤ c ≤ d
- **V型底确认**: 第0天收盘价 = min{过去n天收盘价}，n≥20
- **入场时机**: 第4天以收盘价买入

### 2. AI评分系统 (V27通用模型)
- 基于近10万条沪深历史信号训练
- 使用13个高级特征进行预测
- 输出每个信号的预期收益率

### 3. 精英筛选与仓位管理
- **Top 40%筛选**: 保留评分最高的40%信号
- **线性仓位映射**: 2%-15%动态仓位分配
- **排名公式**: position = 2% + (rank_pct / 100) * 13%

### 4. 风险控制 (V6经典)
- **硬止损**: 3.1%止损线
- **豁免期**: 第一下跌日不减仓
- **分级减仓**: 下跌2%以内减10%，超过减20%

## 📁 文件结构

```
A股量化交易策略/
├── 📄 核心文档
│   ├── README.md                    # 项目说明
│   ├── prd                         # 产品需求文档
│   ├── 特征分析报告.md              # AI特征分析
│   ├── 项目结构说明.md              # 项目结构
│   └── 快速开始指南.md              # 快速上手
├── 🔧 部署系统
│   ├── deploy_to_github.sh         # 一键部署脚本
│   ├── GitHub上传指南.md           # 部署指南
│   └── .github/                    # GitHub配置
│       ├── workflows/deploy.yml    # 自动部署
│       ├── ISSUE_TEMPLATE/         # Issue模板
│       ├── CODE_OF_CONDUCT.md     # 行为准则
│       ├── SECURITY.md            # 安全策略
│       └── SUPPORT.md             # 支持文档
├── 🧠 AI策略文件
│   ├── V31_AI_Feature_Learning.py # AI特征学习
│   ├── V32_AI_Elite_Strategy.py   # AI精英策略
│   └── V28_Backtester.py          # 回测引擎
├── 📊 模型文件
│   ├── v27_universal_model.pkl    # 通用AI模型
│   ├── V31_AI_Feature_Model.pkl   # 特征学习模型
│   └── V31_AI_Feature_Scaler.pkl # 特征标准化器
├── 📈 回测结果
│   ├── V25_V6_Strategy_NoFilter_Trades.csv
│   ├── V26_V28_Enhanced_Trades.csv
│   └── V27_V24_Kelly_Trades.csv
├── 📋 配置文件
│   ├── requirements.txt            # Python依赖
│   ├── .gitignore                 # Git忽略文件
│   ├── .gitattributes            # Git LFS配置
│   └── LICENSE                   # MIT许可证
└── 📚 策略文档
    ├── 终极策略_V28.0_最终版.txt   # 完整策略
    ├── 终极策略_V6.0_AI防错版.txt  # V6策略
    └── 终极策略_V21.0_AI决策版.txt # V21策略
```

## 🚀 快速开始

### 1. 环境准备
```bash
# 克隆仓库
git clone https://github.com/用户名/A股量化交易策略.git
cd A股量化交易策略

# 安装依赖
pip install -r requirements.txt
```

### 2. 运行策略
```bash
# 运行AI特征学习
python V31_AI_Feature_Learning.py

# 运行AI精英策略
python V32_AI_Elite_Strategy.py

# 运行回测
python V28_Backtester.py
```

### 3. 部署到GitHub
```bash
# 运行部署脚本
./deploy_to_github.sh
```

## 📊 性能表现

### 策略对比
| 策略版本 | 期望收益 | 胜率 | 交易次数 | 特点 |
|----------|----------|------|----------|------|
| V6 (基准) | 1.08% | 46.74% | 51,515 | 严格V型底 |
| V28 (AI增强) | 1.71% | 46.96% | 25,000+ | AI评分+精英筛选 |

### 仓位管理
- **激进仓位**: 半凯利公式 (50% Kelly)
- **保守仓位**: 四分之一凯利公式 (25% Kelly)

## 🔍 关键发现

1. **5日均线趋势是最重要特征** (15.44%)，远超其他特征
2. **收盘价相对4天最低价位置** (10.58%) 是第二重要特征
3. **成交量相关特征** 占据重要地位，包括一致性、加速度等
4. **V型底深度** 虽然重要但排名相对靠后 (4.24%)

## 🎉 系统亮点

### 1. 自动化程度高
- 一键部署脚本
- GitHub Actions自动CI/CD
- Dependabot自动依赖更新
- 智能错误处理

### 2. 文档完善
- 详细的README和指南
- Issue和PR模板
- 行为准则和安全策略
- 支持文档和发布模板

### 3. 社区友好
- 清晰的贡献指南
- 完善的Issue模板
- 代码行为准则
- 安全漏洞报告流程

### 4. 技术先进
- Git LFS大文件管理
- GitHub Actions自动化
- 依赖自动更新
- 性能监控

## ⚠️ 重要提醒

- 本策略基于历史数据回测，实际交易存在风险
- 建议在实盘前进行充分的模拟交易验证
- 仓位管理是成功的关键，请严格执行风险控制
- 定期更新模型和特征，适应市场变化

## 📞 联系方式

- **GitHub Issues**: 提交Bug报告和功能请求
- **GitHub Discussions**: 参与社区讨论
- **Pull Requests**: 贡献代码改进

---

**免责声明**: 本策略仅供学习和研究使用，不构成投资建议。投资有风险，入市需谨慎。

**🎉 恭喜！** 您的量化交易策略已成功建立完整的GitHub部署系统，现在可以高效地管理、部署和分享您的项目了！ 